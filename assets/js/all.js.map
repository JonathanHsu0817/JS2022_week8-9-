{"version":3,"sources":["admin.js","all.js","index-animation.js"],"names":["menuOpenBtn","document","querySelector","linkBtn","querySelectorAll","menu","addEventListener","menuToggle","forEach","item","closeMenu","classList","contains","remove","add","chart","c3","generate","bindto","data","type","columns","colors","getOrderList","axios","get","api_path","headers","token","then","response","console","log","productData","cartData","productList","productSelect","init","getProductList","getCartList","res","products","renderCard","str","content","images","id","title","origin_price","price","innerHTML","e","category","target","value","tempData","push","preventDefault","addCartClass","getAttribute","productId","numberCheck","product","quantity","post","alert","finalTotal","textContent","carts","renderCart","cartList","cartId","discardAllBtn","err","orderInfoBtn","length","customerName","customerPhone","customerEmail","customerAddress","customerTradeWay","orderForm","reset","ele","style","cursor","pos","top","left","x","y","mouseDownHandler","userSelect","scrollLeft","scrollTop","clientX","clientY","mouseMoveHandler","mouseUpHandler","dx","dy","removeProperty","removeEventListener"],"mappings":"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","file":"all.js","sourcesContent":["// 預設 JS，請同學不要修改此處\r\nlet menuOpenBtn = document.querySelector('.menuToggle');\r\nlet linkBtn = document.querySelectorAll('.topBar-menu a');\r\nlet menu = document.querySelector('.topBar-menu');\r\nmenuOpenBtn.addEventListener('click', menuToggle);\r\n\r\nlinkBtn.forEach((item) => {\r\n    item.addEventListener('click', closeMenu);\r\n})\r\n\r\nfunction menuToggle() {\r\n    if(menu.classList.contains('openMenu')) {\r\n        menu.classList.remove('openMenu');\r\n    }else {\r\n        menu.classList.add('openMenu');\r\n    }\r\n}\r\nfunction closeMenu() {\r\n    menu.classList.remove('openMenu');\r\n}\r\n\r\n// C3.js\r\nlet chart = c3.generate({\r\n    bindto: '#chart', // HTML 元素綁定\r\n    data: {\r\n        type: \"pie\",\r\n        columns: [\r\n        ['Louvre 雙人床架', 1],\r\n        ['Antony 雙人床架', 2],\r\n        ['Anty 雙人床架', 3],\r\n        ['其他', 4],\r\n        ],\r\n        colors:{\r\n            \"Louvre 雙人床架\":\"#DACBFF\",\r\n            \"Antony 雙人床架\":\"#9D7FEA\",\r\n            \"Anty 雙人床架\": \"#5434A7\",\r\n            \"其他\": \"#301E5F\",\r\n        }\r\n    },\r\n});\r\n\r\n////後台\r\n//取得訂單資料\r\n\r\nfunction getOrderList() {\r\n    axios.get(`https://livejs-api.hexschool.io/api/livejs/v1/admin/${api_path}/orders`,\r\n      {\r\n        headers: {\r\n          'Authorization': token\r\n        }\r\n      }).then(function (response) {\r\n        console.log(response.data);\r\n      })\r\n  }","////config section\r\n// config test\r\n\r\nconst api_path = \"testrabbit\";\r\nconst token = \"8ki6mIFCZqOqa2U0T7bPSRXZkOr2\";\r\n\r\n\r\n\r\n////index section\r\nlet productData = [];\r\nlet cartData = [];\r\nconst productList = document.querySelector(\".productWrap\");\r\nconst productSelect = document.querySelector(\".productSelect\");\r\n\r\nfunction init(){\r\n    getProductList();\r\n    getCartList();\r\n};\r\n\r\ninit();\r\n\r\n//取product api裡資料\r\nfunction getProductList(){\r\n    axios.get(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/products`)\r\n      .then(res=>{\r\n        // console.log(res.data);\r\n        productData = res.data.products;\r\n        renderCard(productData);\r\n      })\r\n};\r\n\r\n\r\n//將product api資料渲染成HTML(card)\r\nfunction renderCard(data){\r\n    let str = \"\";\r\n    data.forEach(item=>{\r\n        let content = `<li class=\"productCard\">\r\n            <h4 class=\"productType\">新品</h4>\r\n            <img src=\"${item.images}\" alt=\"\">\r\n            <a href=\"#\" class=\"js-addCart\" data-id=\"${item.id}\">加入購物車</a>\r\n            <h3>${item.title}</h3>\r\n            <del class=\"originPrice\">NT${item.origin_price}</del>\r\n            <p class=\"nowPrice\">NT${item.price}</p>\r\n        </li>`\r\n        str+=content;\r\n    })\r\n    productList.innerHTML = str;\r\n}\r\n\r\n//篩選category\r\nproductSelect.addEventListener(\"change\",(e)=>{\r\n    // console.log(e.target.value);\r\n    const category = e.target.value;\r\n    if( category === \"全部\"){\r\n        renderCard(productData)\r\n    }else{\r\n        const tempData = [];\r\n        productData.forEach(item=>{\r\n            if(item.category === category){\r\n                tempData.push(item)\r\n            }\r\n        })\r\n        renderCard(tempData);\r\n    }\r\n})\r\n\r\n\r\n////購物車\r\n//點選購物車\r\nproductList.addEventListener(\"click\",(e)=>{\r\n    e.preventDefault();\r\n    let addCartClass = e.target.getAttribute(\"class\");\r\n    if(addCartClass !== \"js-addCart\"){\r\n        return;\r\n    }\r\n    let productId = e.target.getAttribute(\"data-id\");\r\n    console.log(productId)\r\n\r\n    let numberCheck = 1;\r\n    // console.log(cartData)\r\n    cartData.forEach(item =>{\r\n        if(productId === item.product.id){\r\n            item.quantity+=1;\r\n            numberCheck=item.quantity;\r\n        }\r\n        // console.log(numberCheck)\r\n    })\r\n\r\n    // 加入購物車 數量 並輸入給api\r\n    axios.post(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/carts`,{\r\n        \"data\": {\r\n            \"productId\": productId,\r\n            \"quantity\": numberCheck\r\n          }\r\n    }).then(res=>{\r\n            console.log(res)\r\n            alert(\"加入成功\")\r\n            getCartList(cartData);\r\n        })\r\n})\r\n\r\n//取購物車api\r\nfunction getCartList(){\r\n    axios.get(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/carts`)\r\n        .then(res=>{\r\n            // console.log(res.data);\r\n            let finalTotal = res.data.finalTotal;\r\n            document.querySelector(\".js-total\").textContent = finalTotal;\r\n            cartData = res.data.carts;\r\n            renderCart(cartData);\r\n        })\r\n}\r\n\r\nconst cartList = document.querySelector(\".shoppingCart-tableList\");\r\n\r\nfunction renderCart(data){\r\n    let str = '';\r\n    data.forEach(item=>{\r\n        let content = `<tr>\r\n            <td>\r\n                <div class=\"cardItem-title\">\r\n                    <img src=\"${item.product.images}\" alt=\"\">\r\n                    <p>${item.product.title}</p>\r\n                </div>\r\n            </td>\r\n            <td>${item.product.price}</td>\r\n            <td>${item.quantity}</td>\r\n            <td>${item.product.price * item.quantity}</td>\r\n            <td class=\"discardBtn\">\r\n                <a href=\"#\" class=\"material-icons\" data-id=\"${item.id}\">\r\n                    clear\r\n                </a>\r\n            </td>\r\n        </tr>`\r\n        str+=content;\r\n    })\r\n    \r\n    cartList.innerHTML = str;\r\n}\r\n\r\n//刪除購物車單一品項\r\ncartList.addEventListener('click',(e)=>{\r\n    e.preventDefault();\r\n    // console.log(e.target)\r\n    const cartId = e.target.getAttribute('data-id');\r\n    if(cartId == null){\r\n        return;\r\n    }\r\n    // console.log(cartId)\r\n\r\n    axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/carts/${cartId}`)\r\n        .then(res=>{\r\n            alert(\"刪除成功\")\r\n            getCartList()\r\n        })\r\n})\r\n\r\n//刪除整個購物車\r\nconst discardAllBtn = document.querySelector(\".discardAllBtn\");\r\n\r\ndiscardAllBtn.addEventListener('click',(e)=>{\r\n    e.preventDefault();\r\n    axios.delete(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/carts`)\r\n        .then(res=>{\r\n            alert(\"全部刪除成功\")\r\n            getCartList();\r\n        })\r\n        .catch(err=>{\r\n            alert(\"已清空，請勿重複刪除\")\r\n            getCartList();\r\n        })\r\n})\r\n\r\n////加入預定訂單\r\n\r\nconst orderInfoBtn = document.querySelector(\".orderInfo-btn\");\r\norderInfoBtn.addEventListener(\"click\",(e)=>{\r\n    e.preventDefault();\r\n    // console.log(e.target)\r\n    if(cartData.length ==0){\r\n        alert(\"請加入購物車\");\r\n        return;\r\n    }\r\n\r\n    const customerName = document.querySelector(\"#customerName\").value;\r\n    const customerPhone = document.querySelector(\"#customerPhone\").value;\r\n    const customerEmail = document.querySelector(\"#customerEmail\").value;\r\n    const customerAddress = document.querySelector(\"#customerAddress\").value;\r\n    const customerTradeWay = document.querySelector(\"#tradeWay\").value;\r\n    if(customerName==\"\"||customerAddress==\"\"||customerPhone==\"\"||customerEmail==\"\"||customerTradeWay==\"\"){\r\n        alert(\"請輸入訂單資訊\")\r\n        return;\r\n    }\r\n\r\n    const orderForm = document.querySelector(\".orderInfo-form\");\r\n\r\n    axios.post(`https://livejs-api.hexschool.io/api/livejs/v1/customer/${api_path}/orders`,{\r\n        \"data\": {\r\n            \"user\": {\r\n            \"name\": customerName,\r\n            \"tel\": customerPhone,\r\n            \"email\": customerEmail,\r\n            \"address\": customerAddress,\r\n            \"payment\": customerTradeWay\r\n            }\r\n        }\r\n    }).then(res=>{\r\n        alert(\"訂單建立成功\")\r\n        orderForm.reset();\r\n        getCartList();\r\n    })\r\n})\r\n\r\n","document.addEventListener('DOMContentLoaded', function() {\r\n    const ele = document.querySelector('.recommendation-wall');\r\n    ele.style.cursor = 'grab';\r\n    let pos = { top: 0, left: 0, x: 0, y: 0 };\r\n    const mouseDownHandler = function(e) {\r\n        ele.style.cursor = 'grabbing';\r\n        ele.style.userSelect = 'none';\r\n  \r\n        pos = {\r\n            left: ele.scrollLeft,\r\n            top: ele.scrollTop,\r\n            // Get the current mouse position\r\n            x: e.clientX,\r\n            y: e.clientY,\r\n        };\r\n  \r\n        document.addEventListener('mousemove', mouseMoveHandler);\r\n        document.addEventListener('mouseup', mouseUpHandler);\r\n    };\r\n    const mouseMoveHandler = function(e) {\r\n        // How far the mouse has been moved\r\n        const dx = e.clientX - pos.x;\r\n        const dy = e.clientY - pos.y;\r\n  \r\n        // Scroll the element\r\n        ele.scrollTop = pos.top - dy;\r\n        ele.scrollLeft = pos.left - dx;\r\n    };\r\n    const mouseUpHandler = function() {\r\n        ele.style.cursor = 'grab';\r\n        ele.style.removeProperty('user-select');\r\n  \r\n        document.removeEventListener('mousemove', mouseMoveHandler);\r\n        document.removeEventListener('mouseup', mouseUpHandler);\r\n    };\r\n    // Attach the handler\r\n    ele.addEventListener('mousedown', mouseDownHandler);\r\n  });\r\n// menu 切換\r\nlet menuOpenBtn = document.querySelector('.menuToggle');\r\nlet linkBtn = document.querySelectorAll('.topBar-menu a');\r\nlet menu = document.querySelector('.topBar-menu');\r\nmenuOpenBtn.addEventListener('click', menuToggle);\r\n  \r\nlinkBtn.forEach((item) => {\r\n    item.addEventListener('click', closeMenu);\r\n})\r\n  \r\nfunction menuToggle() {\r\n    if(menu.classList.contains('openMenu')) {\r\n        menu.classList.remove('openMenu');\r\n    }else {\r\n        menu.classList.add('openMenu');\r\n    }\r\n}\r\nfunction closeMenu() {\r\n    menu.classList.remove('openMenu');\r\n}"]}